while (globals().__setitem__("setvar", lambda v, d: globals().__setitem__(v, d)),setvar("message_map", lambda m:({"hi": "hello!","hello": "kys frick","penis": "fast xd"}).get(m, "no clever insults today")),setvar("port", 6969),setvar("socket", __import__("socket")),setvar("s", socket.socket()),s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1),s.bind(("", port)),s.listen(1),print("listening on port %d" % port),setvar("client_", s.accept()),print("got client %r" % (client_,)),setvar("info", client_[1]),setvar("client", client_[0]),setvar("data", client.recv(16)),print("received data %s" % data.decode()),client.send(message_map(data.strip().decode()).encode()) if data else None,client.close())[-2]: print("starting new session")
